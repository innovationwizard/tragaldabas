# .gitignore Best Practices Guide

This document explains the organization and rationale behind our comprehensive `.gitignore` file.

## Categories

### 1. Environment & Secrets ⚠️ CRITICAL
**Why:** Never commit secrets, API keys, or credentials to version control.

- `.env` files (all variants)
- Certificate files (`.pem`, `.key`, `.crt`)
- Credential files
- Secret configuration files

**Best Practice:** Use `.env.example` as a template with placeholder values.

### 2. Python Artifacts
**Why:** Compiled Python files and build artifacts are generated and shouldn't be versioned.

- `__pycache__/` - Compiled bytecode
- `*.pyc`, `*.pyo` - Compiled files
- `dist/`, `build/` - Distribution packages
- `*.egg-info/` - Package metadata

**Best Practice:** Let Python generate these at runtime.

### 3. Virtual Environments
**Why:** Virtual environments are large, platform-specific, and can be recreated.

- `venv/`, `.venv/`, `env/`
- `ENV/`, `.conda/`

**Best Practice:** Document Python version and recreate with `pip install -r requirements.txt`.

### 4. IDE & Editor Files
**Why:** IDE settings are personal preferences and can conflict between developers.

- `.vscode/`, `.idea/` - IDE configurations
- `*.sublime-*` - Editor settings
- `*.swp`, `*.swo` - Vim swap files

**Best Practice:** Use workspace-specific settings or share via separate config files.

### 5. Operating System Files
**Why:** OS-generated files are platform-specific and unnecessary.

- `.DS_Store` - macOS Finder metadata
- `Thumbs.db` - Windows thumbnail cache
- `.directory` - Linux directory metadata

**Best Practice:** Configure your OS to not create these files in project directories.

### 6. Database Files
**Why:** Database files can be large, contain sensitive data, and are environment-specific.

- `*.db`, `*.sqlite` - SQLite databases
- `*.sql.backup` - Database backups
- Connection strings and credentials

**Best Practice:** Use migrations and seed scripts instead of committing database files.

### 7. Logs & Temporary Files
**Why:** Logs are runtime artifacts and can grow large.

- `*.log` - All log files
- `logs/` - Log directories
- `tmp/`, `temp/` - Temporary files

**Best Practice:** Use log rotation and external log aggregation services.

### 8. Project-Specific Outputs
**Why:** Generated files should be recreated, not versioned.

- `output/` - Generated outputs
- `results/` - Analysis results
- `generated/` - Auto-generated code

**Best Practice:** Document how to regenerate outputs in README.

### 9. Authentication & Security
**Why:** Security tokens and session data must never be committed.

- `*.token` - Token files
- `tokens/` - Token directories
- `.jwt_secret` - JWT secret keys

**Best Practice:** Store secrets in environment variables or secret managers.

### 10. Build & Deployment
**Why:** Build artifacts and deployment configs are environment-specific.

- `docker-compose.override.yml` - Local Docker overrides
- `*.tfstate` - Terraform state files
- `.terraform/` - Terraform cache

**Best Practice:** Use CI/CD pipelines to build and deploy.

## Security Checklist

Before committing, ensure:

- [ ] No `.env` files are tracked
- [ ] No API keys or secrets in code
- [ ] No database credentials in config files
- [ ] No JWT secret keys committed
- [ ] No certificate files in repository
- [ ] `.gitignore` is up to date

## Common Mistakes to Avoid

1. **Committing `.env` files**
   ```bash
   # BAD
   git add .env
   
   # GOOD
   git add .env.example
   ```

2. **Adding entire directories without checking**
   ```bash
   # BAD
   git add .
   
   # GOOD
   git status  # Review first
   git add specific-files
   ```

3. **Forgetting to update `.gitignore`**
   - When adding new tools or frameworks
   - When changing project structure
   - When adding new output directories

4. **Committing sensitive data in comments**
   ```python
   # BAD
   # API_KEY = "sk-1234567890abcdef"
   
   # GOOD
   # API_KEY = os.getenv("API_KEY")
   ```

## Verifying .gitignore

Check what would be committed:
```bash
git status --ignored
```

Check if a file is ignored:
```bash
git check-ignore -v path/to/file
```

## Updating .gitignore

If you need to add new patterns:

1. Add to appropriate section
2. Add comment explaining why
3. Test with `git check-ignore`
4. Commit the `.gitignore` update

## Negation Patterns

Use `!` to un-ignore files that would otherwise be ignored:

```gitignore
# Ignore all .csv files
*.csv

# But keep example data
!data/example.csv
!tests/fixtures/sample.csv
```

## Platform-Specific Considerations

### macOS
- `.DS_Store` files are created automatically
- Consider global gitignore: `git config --global core.excludesfile ~/.gitignore_global`

### Windows
- `Thumbs.db` files in image directories
- Line ending differences (configure with `.gitattributes`)

### Linux
- Hidden files starting with `.`
- Temporary files in `/tmp`

## Resources

- [Git Documentation - gitignore](https://git-scm.com/docs/gitignore)
- [GitHub's gitignore templates](https://github.com/github/gitignore)
- [Python gitignore best practices](https://github.com/github/gitignore/blob/main/Python.gitignore)

